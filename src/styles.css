:root { --bg:#0f1115; --fg:#e6e6e6; --muted:#9095a1; --ok:#68e384; --bad:#ff6b6b; --accent:#7aa2f7; }
* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body { margin:0; background:var(--bg); color:var(--fg); font:16px/1.6 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
.wrap { max-width: 900px; margin: 0 auto; padding: 24px 20px; display:flex; flex-direction:column; gap:16px; }

/* Minimal toolbar with compact dropdown */
.toolbar { display:flex; align-items:center; gap:12px; }
.mode { display:flex; align-items:center; gap:8px; }
.mode-label { color:var(--muted); font-size:12px; letter-spacing:.06em; text-transform:uppercase; }
.mode-select {
  background:#131826; color:#e8edff; border:1px solid #232a3c; border-radius:10px;
  padding:6px 10px; outline:none; appearance:none;
}
.mode-select:focus { border-color:#7aa2f7; }

.topbar { display:flex; align-items:center; gap:16px; }
.stat { background:#151821; padding:6px 10px; border-radius:10px; color:var(--muted); }
.stat strong { color:var(--fg); margin-right:6px; }
.spacer { flex:1; }

/* Cleaner Restart button */
.btn {
  background: linear-gradient(180deg, #1a1f2b, #171c27);
  border:1px solid #2a3142;
  color:#dfe3ec;
  padding:6px 14px;
  border-radius:10px;
  cursor:pointer;
  transition: border-color .15s, transform .05s;
}
.btn:hover { border-color:#3a445a; }
.btn:active { transform: translateY(1px); }

/* -------- Resizable stage wrapper -------- */
.stage-wrap {
  position: relative;
  background:#0e121a;
  border:1px solid #1a2130;
  border-radius:16px;
  padding:0;
  min-height: 220px;     /* safety; true min enforced in JS */
  max-height: 720px;     /* safety; true max enforced in JS */
  display:flex;
  align-items:stretch;
  overflow:hidden; /* keep content clean inside rounded corners */
}

/* Top-align text; vertical scroll only */
.stage {
  flex: 1;
  border-radius:16px;
  padding:28px 24px 36px; /* match PAD_T / PAD_B */
  display:flex;
  align-items:flex-start;
  overflow: hidden auto;   /* vertical scroll; no horizontal jiggle */
  background: transparent;
  border: none;
}

/* No wrapping so the same characters/lines remain visible */
.text {
  line-height: 1.9;         /* match LINE_H */
  word-wrap: normal;
  white-space: pre;          /* no wrapping â€” identical lines regardless of size */
  overflow-x: auto;          /* horizontal scroll if needed */
}
.char { position:relative; color:#6f7480; }
.char.ok { color:#d7dde8; }
.char.bad { color:var(--bad); background:rgba(255,107,107,0.12); border-bottom:1px solid rgba(255,107,107,0.4); }
.caret { position:absolute; left:0; bottom:-2px; width:100%; height:2px; background:var(--accent); animation: blink 1.1s steps(2, start) infinite; }
@keyframes blink { 50% { opacity: 0; } }

.ghost-input { position: fixed; opacity: 0; pointer-events: none; width:0; height:0; left:-9999px; top:-9999px; }

.results { display:flex; align-items:center; gap:16px; color:var(--muted); }
.results strong { color:var(--fg); }

/* Centered hint */
.center-hint {
  font-size: 11px;
  opacity: 0.55;
  text-align: center;
  margin-top: 8px;
  user-select: none;
}

/* ---------- Settings (bottom-right text link + card) ---------- */
.settings-link-fixed {
  position: fixed;
  right: 18px;
  bottom: 18px;
  font-size: 11px;
  opacity: 0.6;
  color: var(--fg);
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  z-index: 15;
}
.settings-link-fixed:hover { text-decoration: underline; opacity: 0.8; }

.settings-card {
  position: fixed;
  right: 18px;
  bottom: 48px; /* sits above the link */
  min-width: 260px;
  padding: 12px;
  background:#0e121a;
  border:1px solid #1a2130;
  border-radius: 12px;
  box-shadow: 0 12px 30px rgba(0,0,0,0.4);
  z-index: 20;
}
.settings-row { display:flex; align-items:center; gap:10px; padding: 6px 2px; }
.settings-label { flex:1; color:var(--muted); font-size:12px; letter-spacing:.06em; text-transform:uppercase; }
.settings-input {
  width:72px; background:#131826; color:#e8edff; border:1px solid #232a3c; border-radius:8px; padding:4px 6px;
}
.mini {
  background:#141a27; border:1px solid #232a3c; color:#d6d6d6; padding:4px 8px; border-radius:8px; cursor:pointer;
}
.mini:hover { border-color:#3a445a; }

/* Ultra-minimal drag handle */
.resize-handle {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 8px;
  width: 28px;
  height: 4px;
  border-radius: 3px;
  background: #3a445a;
  cursor: ns-resize;
  opacity: 0.9;
}
.resize-handle:hover { opacity: 1; }
